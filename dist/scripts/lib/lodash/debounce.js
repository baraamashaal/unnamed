define(["./isObject","./now","./toNumber"],function(n,t,r){function i(i,f,c){function m(n){var t=g,r=w;return g=w=e,W=n,b=i.apply(r,t)}function v(n){return W=n,E=setTimeout(h,f),j?m(n):b}function s(n){var t=n-M,r=n-W,i=f-t;return N?a(i,y-r):i}function l(n){var t=n-M,r=n-W;return M===e||t>=f||0>t||N&&r>=y}function h(){var n=t();return l(n)?p(n):void(E=setTimeout(h,s(n)))}function p(n){return E=e,O&&g?m(n):(g=w=e,b)}function T(){W=0,g=M=w=E=e}function d(){return E===e?b:p(t())}function x(){var n=t(),r=l(n);if(g=arguments,w=this,M=n,r){if(E===e)return v(M);if(N)return E=setTimeout(h,f),m(M)}return E===e&&(E=setTimeout(h,f)),b}var g,w,y,b,E,M,W=0,j=!1,N=!1,O=!0;if("function"!=typeof i)throw new TypeError(u);return f=r(f)||0,n(c)&&(j=!!c.leading,N="maxWait"in c,y=N?o(r(c.maxWait)||0,f):y,O="trailing"in c?!!c.trailing:O),x.cancel=T,x.flush=d,x}var e,u="Expected a function",o=Math.max,a=Math.min;return i});