define(["./toString"],function(u){function f(f,e,n){return f=u(f),e=n?d:e,e===d&&(e=G.test(f)?F:x),f.match(e)||[]}var d,x=/[a-zA-Z0-9]+/g,e="\\ud800-\\udfff",n="\\u0300-\\u036f\\ufe20-\\ufe23",a="\\u20d0-\\u20f0",t="\\u2700-\\u27bf",i="a-z\\xdf-\\xf6\\xf8-\\xff",b="\\xac\\xb1\\xd7\\xf7",c="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",o="\\u2000-\\u206f",r=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",z="A-Z\\xc0-\\xd6\\xd8-\\xde",A="\\ufe0e\\ufe0f",Z=b+c+o+r,j="['â€™]",g="["+Z+"]",E="["+n+a+"]",l="\\d+",m="["+t+"]",s="["+i+"]",v="[^"+e+Z+l+t+i+z+"]",L="\\ud83c[\\udffb-\\udfff]",R="(?:"+E+"|"+L+")",S="[^"+e+"]",$="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="["+z+"]",D="\\u200d",M="(?:"+s+"|"+v+")",T="(?:"+p+"|"+v+")",V="(?:"+j+"(?:d|ll|m|re|s|t|ve))?",k="(?:"+j+"(?:D|LL|M|RE|S|T|VE))?",q=R+"?",w="["+A+"]?",y="(?:"+D+"(?:"+[S,$,h].join("|")+")"+w+q+")*",B=w+q+y,C="(?:"+[m,$,h].join("|")+")"+B,F=RegExp([p+"?"+s+"+"+V+"(?="+[g,p,"$"].join("|")+")",T+"+"+k+"(?="+[g,p+M,"$"].join("|")+")",p+"?"+M+"+"+V,p+"+"+k,l,C].join("|"),"g"),G=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;return f});