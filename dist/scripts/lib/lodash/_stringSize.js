define(["./_reHasComplexSymbol"],function(f){function u(u){if(!u||!f.test(u))return u.length;for(var d=v.lastIndex=0;v.test(u);)d++;return d}var d="\\ud800-\\udfff",e="\\u0300-\\u036f\\ufe20-\\ufe23",n="\\u20d0-\\u20f0",t="\\ufe0e\\ufe0f",r="["+d+"]",o="["+e+n+"]",i="\\ud83c[\\udffb-\\udfff]",c="(?:"+o+"|"+i+")",a="[^"+d+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",g=c+"?",x="["+t+"]?",j="(?:"+b+"(?:"+[a,l,s].join("|")+")"+x+g+")*",m=x+g+j,p="(?:"+[a+o+"?",o,l,s,r].join("|")+")",v=RegExp(i+"(?="+i+")|"+p+m,"g");return u});