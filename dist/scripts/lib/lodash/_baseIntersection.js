define(["./_SetCache","./_arrayIncludes","./_arrayIncludesWith","./_arrayMap","./_baseUnary","./_cacheHas"],function(r,a,n,e,t,h){function u(u,i,l){for(var o=l?n:a,s=u[0].length,v=u.length,_=v,g=Array(v),y=1/0,d=[];_--;){var p=u[_];_&&i&&(p=e(p,t(i))),y=f(p.length,y),g[_]=!l&&(i||s>=120&&p.length>=120)?new r(_&&p):c}p=u[0];var I=-1,M=g[0];r:for(;++I<s&&d.length<y;){var b=p[I],m=i?i(b):b;if(b=l||0!==b?b:0,!(M?h(M,m):o(d,m,l))){for(_=v;--_;){var w=g[_];if(!(w?h(w,m):o(u[_],m,l)))continue r}M&&M.push(m),d.push(b)}}return d}var c,f=Math.min;return u});