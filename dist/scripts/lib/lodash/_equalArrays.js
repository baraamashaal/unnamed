define(["./_SetCache","./_arraySome"],function(e,r){function n(n,f,u,o,v,c){var d=v&i,h=n.length,l=f.length;if(h!=l&&!(d&&l>h))return!1;var b=c.get(n);if(b)return b==f;var g=-1,k=!0,s=v&a?new e:t;for(c.set(n,f);++g<h;){var S=n[g],_=f[g];if(o)var m=d?o(_,S,g,f,n,c):o(S,_,g,n,f,c);if(m!==t){if(m)continue;k=!1;break}if(s){if(!r(f,function(e,r){return s.has(r)||S!==e&&!u(S,e,o,v,c)?void 0:s.add(r)})){k=!1;break}}else if(S!==_&&!u(S,_,o,v,c)){k=!1;break}}return c["delete"](n),k}var t,a=1,i=2;return n});